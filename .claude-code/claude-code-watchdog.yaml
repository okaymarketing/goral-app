claude_code_watchdog:
  monitoring_enabled: true
  comprehensive_health_checks: true
  intelligent_recovery: true

# Health Monitoring Configuration
health_monitoring:
  ping_checks:
    frequency: "30_seconds"
    timeout: "120_seconds"
    failure_threshold: 3

  activity_tracking:
    code_generation_speed: "track_tokens_per_minute"
    task_completion_rate: "track_successful_completions"
    response_quality: "track_compilation_success"
    context_management: "track_context_length"

  anomaly_detection:
    response_patterns: "ml_based_analysis"
    silence_periods: "detect_unresponsiveness"
    performance_degradation: "track_speed_decline"
    unusual_behavior: "context_aware_monitoring"
    error_pattern_recognition: "recurring_issue_detection"

# 4-Level Recovery Strategy
recovery_strategy:
  level_1_gentle_recovery:
    trigger: "slow_response_detected"
    timeout: "5_minutes"
    actions:
      - "send_simple_status_ping"
      - "request_current_task_update"
      - "gentle_prompt_continuation"
      - "reduce_task_complexity"

  level_2_task_intervention:
    trigger: "moderate_struggling_detected"
    timeout: "10_minutes"
    actions:
      - "break_complex_tasks_into_smaller_chunks"
      - "simplify_current_approach"
      - "provide_explicit_guidance"
      - "reduce_context_complexity"
      - "switch_to_step_by_step_mode"

  level_3_context_reset:
    trigger: "severe_performance_issues"
    timeout: "15_minutes"
    actions:
      - "save_current_progress_state"
      - "clear_conversation_context"
      - "reload_essential_configuration"
      - "resume_from_saved_checkpoint"
      - "activate_simplified_mode"

  level_4_subagent_takeover:
    trigger: "claude_code_unresponsive"
    timeout: "30_minutes"
    actions:
      - "activate_emergency_subagent_mode"
      - "distribute_tasks_to_specialized_subagents"
      - "maintain_development_continuity"
      - "attempt_claude_code_recovery_in_background"
      - "notify_human_stakeholders"

# Proactive Prevention System
proactive_prevention:
  task_complexity_assessment:
    auto_breakdown: true
    complexity_threshold: "high_complexity_detected"
    action: "split_into_manageable_chunks"
    ml_complexity_prediction: "pattern_based_assessment"

  resource_monitoring:
    token_usage_tracking: true
    context_length_monitoring: true
    memory_usage_alerts: true
    response_time_trends: "predictive_analysis"

  smart_task_distribution:
    healthy_claude_code: "100_percent_allocation"
    slow_response: "70_percent_claude_30_percent_subagents"
    struggling: "50_50_distribution"
    unresponsive: "emergency_subagent_mode"

  predictive_maintenance:
    pattern_recognition: "identify_failure_precursors"
    preventive_actions: "proactive_context_management"
    learning_system: "adapt_to_claude_code_patterns"

# Monitoring Dashboard Configuration
monitoring_dashboard:
  real_time_status:
    health_indicators:
      - status: "green"
        description: "Claude Code responding normally"
        response_time: "under_3_seconds"

      - status: "yellow"
        description: "Claude Code responding slowly"
        response_time: "3_to_10_seconds"

      - status: "red"
        description: "Claude Code experiencing issues"
        response_time: "over_10_seconds"

      - status: "gray"
        description: "Claude Code not responding"
        response_time: "timeout_exceeded"

  current_activity:
    task_progress: "real_time_percentage"
    completion_estimates: "ml_based_predictions"
    current_focus: "active_development_area"
    queue_status: "pending_tasks_count"

  performance_metrics:
    response_times: "last_24_hours_average"
    success_rates: "task_completion_percentage"
    quality_scores: "code_compilation_success_rate"
    recovery_effectiveness: "incident_resolution_time"

  alert_system:
    immediate_alerts: "critical_issues_requiring_action"
    warning_alerts: "performance_degradation_trends"
    info_alerts: "status_updates_and_improvements"

# Analytics & Prevention
analytics_prevention:
  failure_pattern_analysis:
    ml_model: "time_series_anomaly_detection"
    prediction_accuracy: "85_percent_target"
    early_warning: "15_minutes_advance_notice"
    pattern_library: "historical_failure_modes"

  performance_trend_tracking:
    historical_data: "30_days_retention"
    trend_analysis: "weekly_performance_reports"
    predictive_modeling: "performance_forecasting"
    seasonal_adjustments: "workload_pattern_recognition"

  recovery_effectiveness:
    success_rate_tracking: "recovery_strategy_effectiveness"
    optimization: "adaptive_strategy_improvement"
    learning: "failure_pattern_memorization"
    strategy_refinement: "continuous_improvement"

# Human Escalation System
human_escalation:
  alert_levels:
    level_1_slow_response:
      trigger: "response_time_above_10_minutes"
      action: "email_notification"
      recipients: ["project_manager", "technical_lead"]
      message: "Claude Code performance degradation detected"

    level_2_offline:
      trigger: "unresponsive_for_30_minutes"
      action: "slack_notification_plus_sms"
      recipients: ["development_team", "stakeholders"]
      urgency: "high_priority"
      message: "Claude Code offline - Emergency protocols activated"

    level_3_system_failure:
      trigger: "complete_system_failure_detected"
      action: "emergency_notifications"
      recipients: ["all_stakeholders", "emergency_contacts"]
      urgency: "critical_immediate_response"
      message: "Critical system failure - Manual intervention required"

  escalation_procedures:
    automatic_recovery_attempts: "exhaust_all_levels_first"
    human_notification_delay: "allow_recovery_time"
    status_updates: "regular_progress_reports"
    resolution_confirmation: "verify_full_recovery"

